<%- include("../layout.ejs"); %>
<style>
  .container {
    padding-top: 20px;
    padding-right: 20px;
    padding-bottom: 20px;
    padding-left: 15%; /* Same as the width of the sidebar */
  }
  .profile-box {
    width: 200px; /* Fixed width */
    height: 200px; /* Fixed height */
    padding: 10px; /* Padding inside the box */
    margin-bottom: 20px; /* Spacing between profile pictures */
    overflow: hidden; /* Hide overflowing content */
  }
  .profile {
    margin-left: 5%;
  }
  @media (max-width: 768px) {
    .container-fluid {
      padding-left: 0; /* Remove left padding for smaller screens */
    }
    .posts {
      margin-left: 0; /* Remove left margin for smaller screens */
    }
  }
</style>
<div class="container">
  <div class="d-flex">
    <!-- Left Column - Profile Icon -->
    <div class="profile">
      <a href="/post-profile"
        ><img
          style="
            width: 137px;
            border-radius: 50%;
            height: 137px;
            object-fit: cover;
            margin-bottom: 30px;
          "
          src="../<%= user.profilePicture %>"
          class="card-img-top"
      /></a>
    </div>
  </div>

  <!-- Right Column - Profile Form -->

  <div class="mb-3 posts">
    <label for="profile-pictures" class="form-label">Profile Pictures:</label>
    <div class="row">
      <% userPosts.forEach(function(post){ %>

      <div class="col-md-4">
        <div class="profile-box">
          <img
            style="width: 100%; height: 100%; object-fit: cover"
            src="../<%=post.image%>"
            class="card-img-top"
            alt="<%= post.user.name %>"
          />
        </div>
      </div>
      <%});%>
    </div>

    <script>
      function confirmAndCallFunction() {
        swal
          .fire({
            title: "Are you sure you want to delete your account?",
            text: "You won't be able to revert this!",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#d33",
            cancelButtonColor: "#3085d6",
            confirmButtonText: "Yes, delete it!",
          })
          .then((result) => {
            if (result.isConfirmed) {
              window.location.href = "/deleteAccount";
            }
          });
      }
    </script>
    <%- include("../alert.ejs"); %>
  </div>
</div>
